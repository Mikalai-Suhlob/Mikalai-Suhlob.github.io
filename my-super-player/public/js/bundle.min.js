!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";var constants=require("../constants/dataConstants"),updateData=function(data){return{type:constants.UPDATE_DATA,data:data}};module.exports={updateData:updateData}},{"../constants/dataConstants":29}],2:[function(require,module,exports){"use strict";var constants=require("../constants/favoritesConstants"),fetchFavoritesStart=function(){return{type:constants.FETCH_FAVORITES_START}},removeTrack=function(id){return{type:constants.REMOVE_TRACK,id:id}},updateFavorites=function(tracks){return{type:constants.UPDATE_FAVORITES,tracks:tracks}},fetchFavoritesError=function(error){return{type:constants.FETCH_FAVORITES_ERROR,error:error}},updateAmount=function(amount){return{type:constants.UPDATE_AMOUNT,amount:amount}},shuffleTracks=function(){return{type:constants.SHUFFLE_TRACKS}};module.exports={fetchFavoritesStart:fetchFavoritesStart,updateFavorites:updateFavorites,fetchFavoritesError:fetchFavoritesError,updateAmount:updateAmount,removeTrack:removeTrack,shuffleTracks:shuffleTracks}},{"../constants/favoritesConstants":30}],3:[function(require,module,exports){"use strict";var constants=require("../constants/playerConstants"),changePlayingTrack=function(trackIndex){return{type:constants.CHANGE_PLAYING_TRACK,trackIndex:trackIndex}},changeCurrentTime=function(time){return{type:constants.CHANGE_CURRENT_TIME,time:time}},toggleTrack=function(isPlaying){return{type:constants.TOGGLE_TRACK,isPlaying:isPlaying}},toggleRepeatTrack=function(){return{type:constants.TOGGLE_REPEAT_TRACK}},changeTrack=function(eType){return function(dispatch,getState){var _getState=getState(),playlist=_getState.playlist,player=_getState.player,index=player.currentTrackIndex,incIndex=index+1,decIndex=index-1,nextTrackIndex=void 0;eType===constants.NEXT_TRACK?(incIndex>playlist.tracks.length-1&&(incIndex=playlist.tracks.length-1),nextTrackIndex=incIndex):eType===constants.PREV_TRACK&&(decIndex<0&&(decIndex=0),nextTrackIndex=decIndex),dispatch(changePlayingTrack(nextTrackIndex)),dispatch(changeCurrentTime(0))}},playTrack=function(trackIndex){return function(dispatch,getState){var _getState2=getState(),player=_getState2.player;return trackIndex===player.currentTrackIndex?void console.log("this"):(dispatch(changeCurrentTime(0)),void dispatch(changePlayingTrack(trackIndex)))}};module.exports={changePlayingTrack:changePlayingTrack,changeCurrentTime:changeCurrentTime,changeTrack:changeTrack,playTrack:playTrack,toggleTrack:toggleTrack,toggleRepeatTrack:toggleRepeatTrack}},{"../constants/playerConstants":31}],4:[function(require,module,exports){"use strict";var constants=require("../constants/playlistConstants"),fetchPlaylistStart=function(){return{type:constants.FETCH_PLAYLIST_START}},updatePlaylist=function(tracks){return{type:constants.UPDATE_PLAYLIST,tracks:tracks}},fetchPlaylistError=function(error){return{type:constants.FETCH_PLAYLIST_ERROR,error:error}},updateFavoriteTracks=function(tracks){return{type:constants.UPDATE_FAVORITE_TRACKS,tracks:tracks}},concatPartialTracks=function(tracks){return{type:constants.CONCAT_PARTIAL_TRACKS,tracks:tracks}},changeSearchText=function(text){return{type:constants.UPDATE_SEARCH_TEXT,text:text}},shuffleTracks=function(){return{type:constants.SHUFFLE_TRACKS}};module.exports={fetchPlaylistStart:fetchPlaylistStart,updatePlaylist:updatePlaylist,fetchPlaylistError:fetchPlaylistError,updateFavoriteTracks:updateFavoriteTracks,changeSearchText:changeSearchText,concatPartialTracks:concatPartialTracks,shuffleTracks:shuffleTracks}},{"../constants/playlistConstants":32}],5:[function(require,module,exports){"use strict";var constants=require("../constants/uiConstants"),changeCurrentTab=function(tab){return{type:constants.CHANGE_CURRENT_TAB,tab:tab}};module.exports={changeCurrentTab:changeCurrentTab}},{"../constants/uiConstants":33}],6:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),Playlist=require("../containers/Playlist"),Artwork=require("./../containers/Artwork"),Content=function(_React$Component){function Content(){return _classCallCheck(this,Content),_possibleConstructorReturn(this,(Content.__proto__||Object.getPrototypeOf(Content)).apply(this,arguments))}return _inherits(Content,_React$Component),_createClass(Content,[{key:"render",value:function(){return React.createElement("div",{id:"content"},React.createElement("div",{className:"content__left"},React.createElement(Artwork,null),React.createElement("canvas",{id:"canvas",width:"260",height:"24"},"Your browser needs to be updated ASAP")),React.createElement(Playlist,null))}}]),Content}(React.Component);module.exports=Content},{"../containers/Playlist":37,"./../containers/Artwork":36,react:"react"}],7:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),ActionBar=require("../containers/ActionBar"),TimeBar=require("../containers/TimeBar"),ProcessingBar=require("../containers/ProcessingBar"),ControlBar=function(_React$Component){function ControlBar(){return _classCallCheck(this,ControlBar),_possibleConstructorReturn(this,(ControlBar.__proto__||Object.getPrototypeOf(ControlBar)).apply(this,arguments))}return _inherits(ControlBar,_React$Component),_createClass(ControlBar,[{key:"render",value:function(){return React.createElement("div",{id:"control-bar"},React.createElement("div",{className:"control-bar__content"},React.createElement(ActionBar,null),React.createElement(TimeBar,null),React.createElement(ProcessingBar,null)))}}]),ControlBar}(React.Component);module.exports=ControlBar},{"../containers/ActionBar":34,"../containers/ProcessingBar":38,"../containers/TimeBar":40,react:"react"}],8:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),Button=function(_React$Component){function Button(){return _classCallCheck(this,Button),_possibleConstructorReturn(this,(Button.__proto__||Object.getPrototypeOf(Button)).apply(this,arguments))}return _inherits(Button,_React$Component),_createClass(Button,[{key:"shouldComponentUpdate",value:function(nextProps,nextState){return this.props.buttonType!==nextProps.buttonType}},{key:"render",value:function(){return React.createElement("li",{id:this.props.id,onClick:this.props.btnOnClick,className:"icon "+this.props.buttonType})}}]),Button}(React.Component);Button.propTypes={buttonType:React.PropTypes.string.isRequired,id:React.PropTypes.string.isRequired,btnOnClick:React.PropTypes.func.isRequired},module.exports=Button},{react:"react"}],9:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),Spinner=(require("react-dom"),require("react-spinner")),Cover=function(_React$Component){function Cover(){return _classCallCheck(this,Cover),_possibleConstructorReturn(this,(Cover.__proto__||Object.getPrototypeOf(Cover)).apply(this,arguments))}return _inherits(Cover,_React$Component),_createClass(Cover,[{key:"render",value:function(){var _props=this.props,src=_props.src,coverOnLoad=_props.coverOnLoad,loading=_props.loading,spinnerStyle={width:30,height:30,display:loading?"block":"none"};return React.createElement("div",{className:"artwork"},React.createElement("img",{key:src,onLoad:coverOnLoad,src:src,className:"artwork__img"}),React.createElement(Spinner,{style:spinnerStyle}))}}]),Cover}(React.Component);Cover.propTypes={src:React.PropTypes.string.isRequired,coverOnLoad:React.PropTypes.func.isRequired,loading:React.PropTypes.bool},module.exports=Cover},{react:"react","react-dom":"react-dom","react-spinner":"react-spinner"}],10:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),CurrentTabPicker=function(_React$Component){function CurrentTabPicker(){return _classCallCheck(this,CurrentTabPicker),_possibleConstructorReturn(this,(CurrentTabPicker.__proto__||Object.getPrototypeOf(CurrentTabPicker)).apply(this,arguments))}return _inherits(CurrentTabPicker,_React$Component),_createClass(CurrentTabPicker,[{key:"render",value:function(){var _props=this.props,tabOnChanged=_props.tabOnChanged,currentTab=_props.currentTab,playlistTracksLength=_props.playlistTracksLength,favoriteTracksLength=_props.favoriteTracksLength;return React.createElement("div",{className:"playlist-menu"},React.createElement("input",{type:"radio",onChange:tabOnChanged,id:"playlistTab",value:"playlist",checked:"playlist"===currentTab}),React.createElement("label",{htmlFor:"playlistTab",className:"playlist-menu__tab"},"Playlist",React.createElement("span",null,playlistTracksLength)),React.createElement("input",{type:"radio",onChange:tabOnChanged,id:"favoritesTab",value:"favorites",checked:"favorites"===currentTab}),React.createElement("label",{htmlFor:"favoritesTab",className:"playlist-menu__tab"},"Favorites",React.createElement("span",null,favoriteTracksLength)))}}]),CurrentTabPicker}(React.Component);CurrentTabPicker.propTypes={tabOnChanged:React.PropTypes.func.isRequired,currentTab:React.PropTypes.string.isRequired,playlistTracksLength:React.PropTypes.number.isRequired,favoriteTracksLength:React.PropTypes.number.isRequired},module.exports=CurrentTabPicker},{react:"react"}],11:[function(require,module,exports){"use strict";var React=require("react"),formatMStoS=require("../utils/format").formatMStoS,CurrentTimeBar=function(props){return React.createElement("li",{className:"time-bar__startpoint"},React.createElement("span",{id:"currentTime",className:"currentTime"},formatMStoS(props.currentTime)))};CurrentTimeBar.propTypes={currentTime:React.PropTypes.number.isRequired},module.exports=CurrentTimeBar},{"../utils/format":56,react:"react"}],12:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),formatMStoS=require("../utils/format").formatMStoS,DurationBar=function(_React$Component){function DurationBar(){return _classCallCheck(this,DurationBar),_possibleConstructorReturn(this,(DurationBar.__proto__||Object.getPrototypeOf(DurationBar)).apply(this,arguments))}return _inherits(DurationBar,_React$Component),_createClass(DurationBar,[{key:"shouldComponentUpdate",value:function(nextProps,nextState){return nextProps.duration!==this.props.duration}},{key:"render",value:function(){return React.createElement("li",{className:"time-bar__endpoint"},React.createElement("span",{id:"duration",className:"duration"},formatMStoS(this.props.duration)))}}]),DurationBar}(React.Component);DurationBar.propTypes={duration:React.PropTypes.number.isRequired},module.exports=DurationBar},{"../utils/format":56,react:"react"}],13:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),Tooltip=require("./Tooltip"),EqualizerVerticalSlider=require("./sliders/EqualizerVerticalSlider"),Equalizer=function(_React$Component){function Equalizer(props){_classCallCheck(this,Equalizer);var _this=_possibleConstructorReturn(this,(Equalizer.__proto__||Object.getPrototypeOf(Equalizer)).call(this,props));return _this.state={active:!1},_this.equalizerOnClick=_this.equalizerOnClick.bind(_this),_this}return _inherits(Equalizer,_React$Component),_createClass(Equalizer,[{key:"equalizerOnClick",value:function(e){var _this2=this;e.target===this.equalizer&&(this.setState({active:!this.state.active}),document.documentElement.click(),document.onclick=null,this.state.active||(document.onclick=function(e){e.target.closest("#equalizer")!==_this2.equalizer&&(_this2.setState({active:!_this2.state.active}),document.onclick=null)}))}},{key:"render",value:function(){var _this3=this,types=["frequency","gain"],sliders=[{title:"BASS",types:types},{title:"MID",types:types},{title:"TREBLE",types:types}],handler=this.props.filterFrequencies;return React.createElement("li",{onClick:this.equalizerOnClick,id:"equalizer",className:"equalizer icon "+(this.state.active?"activated":""),ref:function(eq){return _this3.equalizer=eq}},React.createElement(Tooltip,{visible:this.state.active,size:"m"},sliders.map(function(slider){return React.createElement(EqualizerVerticalSlider,{len:sliders.length,key:slider.title,handler:handler,data:slider})})))}}]),Equalizer}(React.Component);Equalizer.propTypes={filterFrequencies:React.PropTypes.func.isRequired},module.exports=Equalizer},{"./Tooltip":20,"./sliders/EqualizerVerticalSlider":26,react:"react"}],14:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),formatTitle=require("../utils/format").formatTitle,FavoritesItem=function(_React$Component){function FavoritesItem(){return _classCallCheck(this,FavoritesItem),_possibleConstructorReturn(this,(FavoritesItem.__proto__||Object.getPrototypeOf(FavoritesItem)).apply(this,arguments))}return _inherits(FavoritesItem,_React$Component),_createClass(FavoritesItem,[{key:"shouldComponentUpdate",value:function(nextProps){return!(nextProps.active===this.props.active&&nextProps.isFavorite===this.props.isFavorite)}},{key:"render",value:function(){var _props=this.props,track=_props.track,trackOnClick=_props.trackOnClick,active=_props.active,starOnClick=_props.starOnClick;return React.createElement("li",{onClick:function(e){return trackOnClick(e,track)},className:"clearfix playlist__item "+(active?"currentTrack":"")},React.createElement("div",{className:"track-index"},track.index+1),React.createElement("div",{className:"track-title"},formatTitle(track.title)),React.createElement("span",{onClick:function(e){return starOnClick(e,track)},"data-val":"star",className:"icon track-star track-star__favorite"}))}}]),FavoritesItem}(React.Component);FavoritesItem.propTypes={track:React.PropTypes.object.isRequired,trackOnClick:React.PropTypes.func.isRequired,starOnClickReact:React.PropTypes.func.isRequired,active:React.PropTypes.bool.isRequired},module.exports=FavoritesItem},{"../utils/format":56,react:"react"}],15:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),SearchBar=require("./../containers/SearchBar"),TrackData=require("./../containers/TrackData"),VoiceBar=require("./../containers/VoiceBar"),Header=function(_React$Component){function Header(){return _classCallCheck(this,Header),_possibleConstructorReturn(this,(Header.__proto__||Object.getPrototypeOf(Header)).apply(this,arguments))}return _inherits(Header,_React$Component),_createClass(Header,[{key:"render",value:function(){return React.createElement("header",{id:"header",className:"clearfix"},React.createElement("div",{className:"header__left"},React.createElement(SearchBar,{searchDelay:650})),React.createElement("div",{className:"header__right"},React.createElement("div",{className:"visual-bar-right-header clearfix"},React.createElement(TrackData,null),React.createElement(VoiceBar,null))))}}]),Header}(React.Component);module.exports=Header},{"./../containers/SearchBar":39,"./../containers/TrackData":41,"./../containers/VoiceBar":42,react:"react"}],16:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),Tab=require("./Tab"),Spinner=require("react-spinner"),CurrentTabPicker=require("./CurrentTabPicker"),Playlist=function(_React$Component){function Playlist(props){_classCallCheck(this,Playlist);var _this=_possibleConstructorReturn(this,(Playlist.__proto__||Object.getPrototypeOf(Playlist)).call(this,props));return _this.tabOnChanged=_this.tabOnChanged.bind(_this),_this}return _inherits(Playlist,_React$Component),_createClass(Playlist,[{key:"tabOnChanged",value:function tabOnChanged(e){var tabOnChanged=this.props.tabOnChanged;tabOnChanged(e.target.value)}},{key:"render",value:function(){var _props=this.props,playlist=_props.playlist,data=_props.data,currentTrackIndex=_props.currentTrackIndex,currentTab=_props.currentTab,favorites=_props.favorites,starOnClick=_props.starOnClick,trackOnClick=_props.trackOnClick,trackListOnScrolled=_props.trackListOnScrolled,fetching=_props.fetching,tracks=playlist.tracks,playlistSearchText=playlist.searchText,playingTab=data.currentPlaylist,currentTrackId=data.id,trackSearchText=data.searchText,favoritesAmount=favorites.amount,favoriteTracks=favorites.tracks;return React.createElement("div",{className:"content__right"},React.createElement(CurrentTabPicker,{favoriteTracksLength:favoritesAmount,playlistTracksLength:tracks.length,tabOnChanged:this.tabOnChanged,currentTab:currentTab}),React.createElement(Tab,{name:"playlist",trackSearchText:trackSearchText,playlistSearchText:playlistSearchText,currentTrackId:currentTrackId,currentTab:currentTab,playingTab:playingTab,favoritesAmount:favoritesAmount,tracks:tracks,activeIndex:currentTrackIndex,trackOnClick:trackOnClick,starOnClick:starOnClick,trackListOnScrolled:trackListOnScrolled,fetching:fetching}),React.createElement(Tab,{name:"favorites",currentTab:currentTab,playingTab:playingTab,favoritesAmount:favoritesAmount,currentTrackId:currentTrackId,tracks:favoriteTracks,activeIndex:currentTrackIndex,trackOnClick:trackOnClick,starOnClick:starOnClick}),React.createElement(Spinner,{style:{display:fetching?"block":"none"}}))}}]),Playlist}(React.Component);Playlist.propTypes={playlist:React.PropTypes.object.isRequired,data:React.PropTypes.object.isRequired,currentTrackIndex:React.PropTypes.number,currentTab:React.PropTypes.string.isRequired,favorites:React.PropTypes.object.isRequired,fetching:React.PropTypes.bool,starOnClick:React.PropTypes.func.isRequired,trackOnClick:React.PropTypes.func.isRequired,trackListOnScrolled:React.PropTypes.func.isRequired},module.exports=Playlist},{"./CurrentTabPicker":10,"./Tab":19,react:"react","react-spinner":"react-spinner"}],17:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),PlaylistItem=function(_React$Component){function PlaylistItem(props){_classCallCheck(this,PlaylistItem);
var _this=_possibleConstructorReturn(this,(PlaylistItem.__proto__||Object.getPrototypeOf(PlaylistItem)).call(this,props));return _this.titleOnMouseOver=_this.titleOnMouseOver.bind(_this),_this.titleOnMouseOut=_this.titleOnMouseOut.bind(_this),_this}return _inherits(PlaylistItem,_React$Component),_createClass(PlaylistItem,[{key:"shouldComponentUpdate",value:function(nextProps){return!(nextProps.active===this.props.active&&nextProps.isFavorite===this.props.isFavorite)}},{key:"titleOnMouseOver",value:function(){this.title.offsetWidth<this.title.scrollWidth&&(this.title.style.textIndent=-(this.title.scrollWidth-this.title.offsetWidth)+"px")}},{key:"titleOnMouseOut",value:function(){this.title.style.textIndent="0px"}},{key:"render",value:function(){var _this2=this,_props=this.props,track=_props.track,trackOnClick=_props.trackOnClick,active=_props.active,isFavorite=_props.isFavorite,starOnClick=_props.starOnClick;return React.createElement("li",{onClick:function(e){return trackOnClick(e,track)},className:"clearfix playlist__item "+(active?"currentTrack":"")},React.createElement("div",{className:"track-index"},track.index+1),React.createElement("div",{onMouseOver:this.titleOnMouseOver,onMouseOut:this.titleOnMouseOut,ref:function(t){return _this2.title=t},className:"track-title"},track.title),React.createElement("span",{onClick:function(e){return starOnClick(e,track)},"data-val":"star",className:"icon track-star "+(isFavorite?"track-star__favorite":"")}))}}]),PlaylistItem}(React.Component);PlaylistItem.propTypes={track:React.PropTypes.object.isRequired,trackOnClick:React.PropTypes.func.isRequired,starOnClick:React.PropTypes.func.isRequired,isFavorite:React.PropTypes.bool.isRequired,active:React.PropTypes.bool.isRequired},module.exports=PlaylistItem},{react:"react"}],18:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),getCoords=require("../utils/dom").getCoords,playerAPI=require("../utils/playerAPI"),TrackProgressBar=function(_React$Component){function TrackProgressBar(props){_classCallCheck(this,TrackProgressBar);var _this=_possibleConstructorReturn(this,(TrackProgressBar.__proto__||Object.getPrototypeOf(TrackProgressBar)).call(this,props));return _this.state={tooltipVisibility:!1},_this.progressBarOnDrag=_this.progressBarOnDrag.bind(_this),_this.sliderOnClick=_this.sliderOnClick.bind(_this),_this._documentOnMouseMove=_this._documentOnMouseMove.bind(_this),_this}return _inherits(TrackProgressBar,_React$Component),_createClass(TrackProgressBar,[{key:"componentDidMount",value:function(){this.sliderWidth=this.slider.offsetWidth,this.thumbWidth=this.thumb.offsetWidth,this.endPoint=this.sliderWidth-this.thumbWidth,this._cfg={MIN:0,MAX:this.slider.offsetWidth-this.thumb.offsetWidth}}},{key:"_documentOnMouseMove",value:function(e){var shiftX=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;playerAPI.pause();var updateTime=this.props.updateTime,move=e.pageX-getCoords(this.slider).left-(shiftX||this.thumbWidth/2),ratio=move/this._cfg.MAX;ratio<=0?ratio=0:ratio>=1&&(ratio=1),this.thumb.style.left=ratio*this._cfg.MAX+"px",this.counter.style.width=ratio*this._cfg.MAX+(this.thumb?this.thumbWidth/2:.3)+"px",document.onmouseup=function(){updateTime(ratio),this.onmousemove=this.onmouseup=null}}},{key:"progressBarOnDrag",value:function(e){var _this2=this,shiftX=e.pageX-getCoords(this.thumb).left,updateTime=this.props.updateTime;playerAPI.pause(),document.onmousemove=function(e){var move=e.pageX-getCoords(_this2.slider).left-shiftX,ratio=move/_this2._cfg.MAX;ratio<=0?ratio=0:ratio>=1&&(ratio=1),_this2.thumb.style.left=ratio*_this2._cfg.MAX+"px",_this2.counter.style.width=ratio*_this2._cfg.MAX+_this2.thumbWidth/2+"px",document.onmouseup=function(){updateTime(ratio),this.onmousemove=this.onmouseup=null}}}},{key:"sliderOnClick",value:function(e){if(e.target!==this.thumb){var updateTime=this.props.updateTime,move=e.pageX-getCoords(this.slider).left-this.thumbWidth/2,ratio=move/this._cfg.MAX;ratio<=0?ratio=0:ratio>=1&&(ratio=1),updateTime(ratio)}}},{key:"render",value:function(){var _this3=this,progress=this.props.progress,thumbStyle={left:progress*this.endPoint+"px"},counterStyle={width:progress*this.endPoint+this.thumbWidth/2+"px"};return React.createElement("li",{className:"time-bar__progress-bar"},React.createElement("div",{className:"progress-slider",onMouseDown:this.sliderOnClick,ref:function(s){return _this3.slider=s}},React.createElement("div",{className:"progress-slider__thumb",style:thumbStyle,onMouseDown:this.progressBarOnDrag,ref:function(th){return _this3.thumb=th}}),React.createElement("div",{className:"progress-slider__timeCounter",style:counterStyle,ref:function(c){return _this3.counter=c}})))}}]),TrackProgressBar}(React.Component);TrackProgressBar.propTypes={updateTime:React.PropTypes.func.isRequired,progress:React.PropTypes.number.isRequired},module.exports=TrackProgressBar},{"../utils/dom":55,"../utils/playerAPI":58,react:"react"}],19:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),getCoords=require("../utils/dom").getCoords,TracksList=(require("./FavoritesItem"),require("./PlaylistItem"),require("./TracksList")),lastTimeValue=0,timer=null,Tab=function(_React$Component){function Tab(props){_classCallCheck(this,Tab);var _this=_possibleConstructorReturn(this,(Tab.__proto__||Object.getPrototypeOf(Tab)).call(this,props));return _this.sbOnMouseDown=_this.sbOnMouseDown.bind(_this),_this.listOnWheel=_this.listOnWheel.bind(_this),_this.updateScrollBarPos=_this.updateScrollBarPos.bind(_this),_this}return _inherits(Tab,_React$Component),_createClass(Tab,[{key:"componentDidMount",value:function(){this.scrollBarParent=this.scrollBar.parentElement;var self=this;this._cfg={MIN:0,MAX:self.scrollBarParent.offsetHeight-self.scrollBar.offsetHeight}}},{key:"componentWillUpdate",value:function(nextProps){nextProps.playlistSearchText!==this.props.playlistSearchText&&(this.list.scrollTop=0,this.scrollBar.style.top="0px")}},{key:"sbOnMouseDown",value:function(e){var _this2=this,shiftY=e.pageY-getCoords(this.scrollBar).top;document.onmousemove=function(e){var move=e.pageY-shiftY-getCoords(_this2.scrollBarParent).top,ratio=move/(_this2.scrollBarParent.offsetHeight-_this2.scrollBar.offsetHeight),newTimeValue=new Date,delay=550;ratio<=0?ratio=0:ratio>=1&&(ratio=1),_this2.updateScrollBarPos(ratio),_this2.list.scrollTop=ratio*(_this2.list.scrollHeight-_this2.list.offsetHeight),ratio>=1&&"playlist"===_this2.props.currentTab&&(newTimeValue-lastTimeValue<delay&&clearTimeout(timer),timer=setTimeout(function(){var evt={deltaY:16};_this2.props.trackListOnScrolled(evt,_this2.listOnWheel)},delay),lastTimeValue=newTimeValue)},document.onmouseup=function(){document.onmousemove=document.onmouseup=null}}},{key:"updateScrollBarPos",value:function(ratio){this.scrollBar.style.top=ratio*(this.list.offsetHeight-this.scrollBar.offsetHeight)+"px"}},{key:"listOnWheel",value:function(e){var _this3=this,newTimeValue=new Date,delay=550;this.list.scrollTop+=e.deltaY/2;var scrollRatio=this.list.scrollTop/(this.list.scrollHeight-this.list.offsetHeight);this.updateScrollBarPos(scrollRatio),scrollRatio>=1&&"playlist"===this.props.currentTab&&(newTimeValue-lastTimeValue<delay&&clearTimeout(timer),timer=setTimeout(function(){_this3.props.trackListOnScrolled(e,_this3.listOnWheel)},delay),lastTimeValue=newTimeValue)}},{key:"render",value:function(){var _this4=this,_props=this.props,currentTab=_props.currentTab,name=_props.name,tracks=_props.tracks,active=tracks.length>6,scrollBarStyle={visibility:active?"visible":"hidden"};return React.createElement("div",{className:"playlist-tab",style:{display:currentTab===name?"block":"none"}},React.createElement("div",{ref:function(sb){return _this4.scrollBar=sb},onMouseDown:this.sbOnMouseDown,className:"list-scroller",style:scrollBarStyle}),React.createElement("ul",{className:"track-list",onWheel:active?this.listOnWheel:null,ref:function(l){return _this4.list=l}},React.createElement(TracksList,this.props)))}}]),Tab}(React.Component);Tab.propTypes={currentTab:React.PropTypes.string.isRequired,name:React.PropTypes.string.isRequired,tracks:React.PropTypes.array.isRequired,playlistSearchText:React.PropTypes.string},module.exports=Tab},{"../utils/dom":55,"./FavoritesItem":14,"./PlaylistItem":17,"./TracksList":21,react:"react"}],20:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),Tooltip=function(_React$Component){function Tooltip(){return _classCallCheck(this,Tooltip),_possibleConstructorReturn(this,(Tooltip.__proto__||Object.getPrototypeOf(Tooltip)).apply(this,arguments))}return _inherits(Tooltip,_React$Component),_createClass(Tooltip,[{key:"render",value:function(){var _props=this.props,visible=_props.visible,title=_props.title,size=_props.size,children=_props.children,sizeClass=void 0;sizeClass="m"===size?"--medium":"s"===size?"--small":"--medium";var titleElem=React.createElement("div",{className:"player-tooltip__title"},React.createElement("span",{className:"player-tooltip__title"+sizeClass},title));return React.createElement("div",{className:"player-tooltip player-tooltip"+sizeClass,style:{opacity:visible?"1":"0",visibility:visible?"visible":"hidden"}},React.createElement("div",{className:"player-tooltip_slider",style:{width:children.length>1?30*children.length:""}},this.props.children?this.props.children:""),title?titleElem:"")}}]),Tooltip}(React.Component);Tooltip.propTypes={visible:React.PropTypes.bool.isRequired,title:React.PropTypes.string,size:React.PropTypes.string,children:React.PropTypes.node.isRequired},module.exports=Tooltip},{react:"react"}],21:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),localStore=require("../utils/localStore"),ReactCSSTransitionGroup=require("react-addons-css-transition-group"),PlaylistItem=require("./PlaylistItem"),TracksList=function(_React$Component){function TracksList(){return _classCallCheck(this,TracksList),_possibleConstructorReturn(this,(TracksList.__proto__||Object.getPrototypeOf(TracksList)).apply(this,arguments))}return _inherits(TracksList,_React$Component),_createClass(TracksList,[{key:"render",value:function(){var _props=this.props,currentTab=_props.currentTab,playingTab=_props.playingTab,activeIndex=_props.activeIndex,tracks=_props.tracks,currentTrackId=_props.currentTrackId,trackOnClick=_props.trackOnClick,starOnClick=_props.starOnClick,trackSearchText=_props.trackSearchText,playlistSearchText=_props.playlistSearchText,Item=PlaylistItem;return tracks.length&&(tracks=tracks.map(function(track){var isFavorite=localStore.includes(track.id),isActive=track.index===activeIndex&&currentTab===playingTab&&trackSearchText===playlistSearchText&&currentTrackId===tracks[activeIndex].id;return React.createElement(ReactCSSTransitionGroup,{key:track.id,transitionAppear:!0,transitionName:"fade",transitionEnterTimeout:300,transitionLeave:!1,transitionAppearTimeout:500},React.createElement(Item,{active:isActive,isFavorite:isFavorite,trackOnClick:trackOnClick,starOnClick:starOnClick,track:track}))})),React.createElement("div",null,tracks)}}]),TracksList}(React.Component);TracksList.propTypes={currentTab:React.PropTypes.string.isRequired,playingTab:React.PropTypes.string,activeIndex:React.PropTypes.number,tracks:React.PropTypes.array.isRequired,currentTrackId:React.PropTypes.oneOfType([React.PropTypes.number,React.PropTypes.string]).isRequired,trackOnClick:React.PropTypes.func.isRequired,starOnClick:React.PropTypes.func.isRequired,trackSearchText:React.PropTypes.string,playlistSearchText:React.PropTypes.string},module.exports=TracksList},{"../utils/localStore":57,"./PlaylistItem":17,react:"react","react-addons-css-transition-group":"react-addons-css-transition-group"}],22:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),Tooltip=require("./Tooltip"),VerticalSlider=require("./sliders/VerticalSlider"),VolumeBar=function(_React$Component){function VolumeBar(props){_classCallCheck(this,VolumeBar);var _this=_possibleConstructorReturn(this,(VolumeBar.__proto__||Object.getPrototypeOf(VolumeBar)).call(this,props));return _this.state={active:!1,volume:"high"},_this.volumeBarOnClick=_this.volumeBarOnClick.bind(_this),_this.sliderOnClick=_this.sliderOnClick.bind(_this),_this.thumbOnMouseMove=_this.thumbOnMouseMove.bind(_this),_this}return _inherits(VolumeBar,_React$Component),_createClass(VolumeBar,[{key:"volumeBarOnClick",value:function(e){var _this2=this;e.target===this.volumeBar&&(this.setState({active:!this.state.active}),document.documentElement.click(),document.onclick=null,this.state.active||(document.onclick=function(e){e.target.closest("#volume")!==_this2.volumeBar&&(_this2.setState({active:!_this2.state.active}),document.onclick=null)}))}},{key:"sliderOnClick",value:function(volume){var setVolume=this.props.setVolume;this.setState({volume:VolumeBar.getCurrentVolStatus(volume)}),setVolume(volume)}},{key:"thumbOnMouseMove",value:function(volume){var setVolume=this.props.setVolume;this.setState({volume:VolumeBar.getCurrentVolStatus(volume)}),setVolume(volume)}},{key:"render",value:function(){var _this3=this,volumeStatus=this.state.volume;return React.createElement("li",{onClick:this.volumeBarOnClick,id:"volume",className:"volume-"+volumeStatus+" icon "+(this.state.active?"activated":""),ref:function(vb){return _this3.volumeBar=vb}},React.createElement(Tooltip,{visible:this.state.active,size:"m"},React.createElement(VerticalSlider,{sliderOnClick:this.sliderOnClick,thumbOnMouseMove:this.thumbOnMouseMove,title:"VOL",initVal:1})))}}],[{key:"getCurrentVolStatus",value:function(vol){return 0===vol?"mute":vol<=.4?"low":vol<=.7?"medium":"high"}}]),VolumeBar}(React.Component);VolumeBar.propTypes={setVolume:React.PropTypes.func.isRequired},module.exports=VolumeBar},{"./Tooltip":20,"./sliders/VerticalSlider":27,react:"react"}],23:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),Button=require("../ControlBarButton"),NextButton=(require("../../utils/playerAPI"),function(_React$Component){function NextButton(){return _classCallCheck(this,NextButton),_possibleConstructorReturn(this,(NextButton.__proto__||Object.getPrototypeOf(NextButton)).apply(this,arguments))}return _inherits(NextButton,_React$Component),_createClass(NextButton,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var id="action-bar__next",buttonType="next";return React.createElement(Button,{id:id,btnOnClick:this.props.nextBtnOnClick,buttonType:buttonType})}}]),NextButton}(React.Component));NextButton.propTypes={nextBtnOnClick:React.PropTypes.func.isRequired},module.exports=NextButton},{"../../utils/playerAPI":58,"../ControlBarButton":8,react:"react"}],24:[function(require,module,exports){"use strict";var React=require("react"),Button=require("../ControlBarButton"),PlayButton=function(props){var id="action-bar__play",buttonType=props.isPlaying?"stop":"play";return React.createElement(Button,{id:id,btnOnClick:props.playBtnOnClick,buttonType:buttonType})};PlayButton.propTypes={playBtnOnClick:React.PropTypes.func.isRequired,isPlaying:React.PropTypes.bool.isRequired},module.exports=PlayButton},{"../ControlBarButton":8,react:"react"}],25:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),Button=require("../ControlBarButton"),PrevButton=(require("../../utils/playerAPI"),function(_React$Component){function PrevButton(){return _classCallCheck(this,PrevButton),_possibleConstructorReturn(this,(PrevButton.__proto__||Object.getPrototypeOf(PrevButton)).apply(this,arguments))}return _inherits(PrevButton,_React$Component),_createClass(PrevButton,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var id="action-bar__prev",buttonType="prev";return React.createElement(Button,{id:id,btnOnClick:this.props.prevBtnOnClick,buttonType:buttonType})}}]),PrevButton}(React.Component));PrevButton.propTypes={prevBtnOnClick:React.PropTypes.func.isRequired},module.exports=PrevButton},{"../../utils/playerAPI":58,"../ControlBarButton":8,react:"react"}],26:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),VerticalSliderItem=require("./VerticalSliderItem"),EqualizerVerticalSlider=function(_React$Component){function EqualizerVerticalSlider(){return _classCallCheck(this,EqualizerVerticalSlider),_possibleConstructorReturn(this,(EqualizerVerticalSlider.__proto__||Object.getPrototypeOf(EqualizerVerticalSlider)).apply(this,arguments))}return _inherits(EqualizerVerticalSlider,_React$Component),_createClass(EqualizerVerticalSlider,[{key:"render",value:function(){var _props=this.props,handler=_props.handler,data=_props.data,len=_props.len,items=data.types.map(function(item){return React.createElement(VerticalSliderItem,{key:item,handler:handler,initVal:1.5,type:item,title:data.title})});return React.createElement("div",{className:"vertical-slider-wrapper",style:{width:parseInt(100/len)+"%"}},items,React.createElement("div",{className:"vertical-slider-wrapper__title-wrapper"},data.title))}}]),EqualizerVerticalSlider}(React.Component);EqualizerVerticalSlider.propTypes={handler:React.PropTypes.func.isRequired,data:React.PropTypes.object.isRequired,len:React.PropTypes.number.isRequired},module.exports=EqualizerVerticalSlider},{"./VerticalSliderItem":28,react:"react"}],27:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),getCoords=require("../../utils/dom").getCoords,VerticalSlider=(require("./VerticalSliderItem"),function(_React$Component){function VerticalSlider(props){_classCallCheck(this,VerticalSlider);var _this=_possibleConstructorReturn(this,(VerticalSlider.__proto__||Object.getPrototypeOf(VerticalSlider)).call(this,props));return _this.sliderOnOwnClick=_this.sliderOnOwnClick.bind(_this),_this.thumbOnOwnMouseMove=_this.thumbOnOwnMouseMove.bind(_this),_this}return _inherits(VerticalSlider,_React$Component),_createClass(VerticalSlider,[{key:"componentDidMount",value:function(){this.sliderHeight=this.slider.offsetHeight,this.thumbHeight=this.thumb.offsetHeight,this._cfg={MIN:0,MAX:this.slider.offsetHeight-this.thumb.offsetHeight};var thumbTop=(this.props.initVal-1)*this._cfg.MAX;this.thumb.style.top=thumbTop+"px",this.counter.style.height=this._cfg.MAX-thumbTop+this.thumbHeight/2+"px"}},{key:"thumbOnOwnMouseMove",value:function(e){var _this2=this,thumbOnMouseMove=this.props.thumbOnMouseMove,shiftY=e.pageY-getCoords(this.thumb).top;document.onmousemove=function(e){var move=e.pageY-getCoords(_this2.slider).top-shiftY,ratio=1-move/_this2._cfg.MAX;ratio<=0?(ratio=0,move=_this2._cfg.MAX):ratio>=1&&(ratio=1,move=0),_this2.thumb.style.top=move+"px",_this2.counter.style.height=_this2._cfg.MAX-move+_this2.thumbHeight/2+"px",thumbOnMouseMove(ratio),document.onmouseup=function(e){document.onmousemove=document.onmouseup=null}}}},{key:"sliderOnOwnClick",value:function(e){if(e.target!=this.thumb){var sliderOnClick=this.props.sliderOnClick,move=e.pageY-getCoords(this.slider).top-this.thumbHeight/2,ratio=1-move/this._cfg.MAX;ratio<=0?(ratio=0,move=this._cfg.MAX):ratio>=1&&(ratio=1,move=0),this.thumb.style.top=move+"px",this.counter.style.height=this._cfg.MAX-move+this.thumbHeight/2+"px",sliderOnClick(ratio)}}},{key:"render",value:function(){var _this3=this,title=this.props.title,titleElem=void 0;return title&&(titleElem=React.createElement("div",{className:"vertical-slider-wrapper__title-wrapper"},title)),React.createElement("div",{className:"vertical-slider-wrapper"},React.createElement("div",{className:"vertical-slider-wrapper__slider-wrapper"},React.createElement("div",{className:"vertical-slider",onClick:this.sliderOnOwnClick,ref:function(s){return _this3.slider=s}},React.createElement("div",{className:"vertical-slider__thumb",onMouseDown:this.thumbOnOwnMouseMove,ref:function(th){return _this3.thumb=th}}),React.createElement("div",{className:"vertical-slider__timeCounter",ref:function(c){return _this3.counter=c}}))),titleElem)}}]),VerticalSlider}(React.Component));VerticalSlider.propTypes={title:React.PropTypes.string,sliderOnClick:React.PropTypes.func.isRequired,thumbOnMouseMove:React.PropTypes.func.isRequired,initVal:React.PropTypes.number.isRequired},module.exports=VerticalSlider},{"../../utils/dom":55,"./VerticalSliderItem":28,react:"react"}],28:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){
if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),getCoords=require("../../utils/dom").getCoords,VerticalSliderItem=function(_React$Component){function VerticalSliderItem(props){_classCallCheck(this,VerticalSliderItem);var _this=_possibleConstructorReturn(this,(VerticalSliderItem.__proto__||Object.getPrototypeOf(VerticalSliderItem)).call(this,props));return _this.sliderOnOwnClick=_this.sliderOnOwnClick.bind(_this),_this.thumbOnOwnMouseMove=_this.thumbOnOwnMouseMove.bind(_this),_this}return _inherits(VerticalSliderItem,_React$Component),_createClass(VerticalSliderItem,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentDidMount",value:function(){this.sliderHeight=this.slider.offsetHeight,this.thumbHeight=this.thumb.offsetHeight,this._cfg={MIN:0,MAX:this.slider.offsetHeight-this.thumb.offsetHeight};var thumbTop=(this.props.initVal-1)*this._cfg.MAX;this.thumb.style.top=thumbTop+"px",this.counter.style.height=this._cfg.MAX-thumbTop+this.thumbHeight/2+"px"}},{key:"thumbOnOwnMouseMove",value:function(e){var _this2=this,_props=this.props,handler=_props.handler,type=_props.type,title=_props.title,shiftY=e.pageY-getCoords(this.thumb).top;document.onmousemove=function(e){var move=e.pageY-getCoords(_this2.slider).top-shiftY,ratio=1-move/_this2._cfg.MAX;ratio<=0?(ratio=0,move=_this2._cfg.MAX):ratio>=1&&(ratio=1,move=0),_this2.thumb.style.top=move+"px",_this2.counter.style.height=_this2._cfg.MAX-move+_this2.thumbHeight/2+"px",handler({title:title,type:type,ratio:ratio}),document.onmouseup=function(e){document.onmousemove=document.onmouseup=null}}}},{key:"sliderOnOwnClick",value:function(e){if(e.target!=this.thumb){var _props2=this.props,handler=_props2.handler,type=_props2.type,title=_props2.title,move=e.pageY-getCoords(this.slider).top-this.thumbHeight/2,ratio=1-move/this._cfg.MAX;ratio<=0?(ratio=0,move=this._cfg.MAX):ratio>=1&&(ratio=1,move=0),this.thumb.style.top=move+"px",this.counter.style.height=this._cfg.MAX-move+this.thumbHeight/2+"px",handler({title:title,type:type,ratio:ratio})}}},{key:"render",value:function(){var _this3=this;return React.createElement("div",{className:"vertical-slider-wrapper__slider-wrapper"},React.createElement("div",{className:"vertical-slider",onClick:this.sliderOnOwnClick,ref:function(s){return _this3.slider=s}},React.createElement("div",{className:"vertical-slider__thumb",onMouseDown:this.thumbOnOwnMouseMove,ref:function(th){return _this3.thumb=th}}),React.createElement("div",{className:"vertical-slider__timeCounter",ref:function(c){return _this3.counter=c}})))}}]),VerticalSliderItem}(React.Component);VerticalSliderItem.propTypes={handler:React.PropTypes.func.isRequired,type:React.PropTypes.string.isRequired,title:React.PropTypes.string.isRequired,initVal:React.PropTypes.number.isRequired},module.exports=VerticalSliderItem},{"../../utils/dom":55,react:"react"}],29:[function(require,module,exports){"use strict";var UPDATE_DATA="UPDATE_DATA";module.exports={UPDATE_DATA:UPDATE_DATA}},{}],30:[function(require,module,exports){"use strict";var FETCH_FAVORITES_START="FETCH_FAVORITES_START",UPDATE_FAVORITES="UPDATE_FAVORITES",FETCH_FAVORITES_ERROR="FETCH_FAVORITES_ERROR",UPDATE_AMOUNT="UPDATE_AMOUNT",REMOVE_TRACK="REMOVE_TRACK",SHUFFLE_TRACKS="SHUFFLE_TRACKS";module.exports={FETCH_FAVORITES_START:FETCH_FAVORITES_START,UPDATE_FAVORITES:UPDATE_FAVORITES,FETCH_FAVORITES_ERROR:FETCH_FAVORITES_ERROR,UPDATE_AMOUNT:UPDATE_AMOUNT,REMOVE_TRACK:REMOVE_TRACK,SHUFFLE_TRACKS:SHUFFLE_TRACKS}},{}],31:[function(require,module,exports){"use strict";var TOGGLE_TRACK="TOGGLE_TRACK",CHANGE_CURRENT_TIME="CHANGE_CURRENT_TIME",CHANGE_PLAYING_TRACK="CHANGE_PLAYING_TRACK",NEXT_TRACK="NEXT_TRACK",PREV_TRACK="PREV_TRACK",TOGGLE_REPEAT_TRACK="TOGGLE_REPEAT_TRACK";module.exports={TOGGLE_TRACK:TOGGLE_TRACK,CHANGE_CURRENT_TIME:CHANGE_CURRENT_TIME,CHANGE_PLAYING_TRACK:CHANGE_PLAYING_TRACK,NEXT_TRACK:NEXT_TRACK,PREV_TRACK:PREV_TRACK,TOGGLE_REPEAT_TRACK:TOGGLE_REPEAT_TRACK}},{}],32:[function(require,module,exports){"use strict";var FETCH_PLAYLIST_START="FETCH_PLAYLIST_START",UPDATE_PLAYLIST="UPDATE_PLAYLIST",FETCH_PLAYLIST_ERROR="FETCH_PLAYLIST_ERROR",UPDATE_SEARCH_TEXT="UPDATE_SEARCH_TEXT",SHUFFLE_TRACKS="SHUFFLE_TRACKS",CONCAT_PARTIAL_TRACKS="CONCAT_PARTIAL_TRACKS";module.exports={FETCH_PLAYLIST_START:FETCH_PLAYLIST_START,UPDATE_PLAYLIST:UPDATE_PLAYLIST,FETCH_PLAYLIST_ERROR:FETCH_PLAYLIST_ERROR,UPDATE_SEARCH_TEXT:UPDATE_SEARCH_TEXT,SHUFFLE_TRACKS:SHUFFLE_TRACKS,CONCAT_PARTIAL_TRACKS:CONCAT_PARTIAL_TRACKS}},{}],33:[function(require,module,exports){"use strict";var CHANGE_CURRENT_TAB="CHANGE_CURRENT_TAB";module.exports={CHANGE_CURRENT_TAB:CHANGE_CURRENT_TAB}},{}],34:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function mapStateToProps(state){return{isPlaying:state.player.isPlaying}}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),_require=require("react-redux"),connect=_require.connect,playerAPI=require("../utils/playerAPI"),PlayButton=require("../components/buttons/PlayButton"),NextButton=require("../components/buttons/NextButton"),PrevButton=require("../components/buttons/PrevButton"),ActionBar=function(_React$Component){function ActionBar(props){_classCallCheck(this,ActionBar);var _this=_possibleConstructorReturn(this,(ActionBar.__proto__||Object.getPrototypeOf(ActionBar)).call(this,props));return _this.prevBtnOnClick=_this.prevBtnOnClick.bind(_this),_this.playBtnOnClick=_this.playBtnOnClick.bind(_this),_this.nextBtnOnClick=_this.nextBtnOnClick.bind(_this),_this}return _inherits(ActionBar,_React$Component),_createClass(ActionBar,[{key:"prevBtnOnClick",value:function(){playerAPI.playPrev()}},{key:"playBtnOnClick",value:function(){playerAPI.toggle()}},{key:"nextBtnOnClick",value:function(){playerAPI.playNext()}},{key:"render",value:function(){return React.createElement("div",{className:"action-bar"},React.createElement("ul",null,React.createElement(PrevButton,{prevBtnOnClick:this.prevBtnOnClick}),React.createElement(PlayButton,{isPlaying:this.props.isPlaying,playBtnOnClick:this.playBtnOnClick}),React.createElement(NextButton,{nextBtnOnClick:this.nextBtnOnClick})))}}]),ActionBar}(React.Component);ActionBar.propTypes={isPlaying:React.PropTypes.bool.isRequired},module.exports=connect(mapStateToProps)(ActionBar)},{"../components/buttons/NextButton":23,"../components/buttons/PlayButton":24,"../components/buttons/PrevButton":25,"../utils/playerAPI":58,react:"react","react-redux":"react-redux"}],35:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function mapStateToProps(state){return{favorites:state.favorites,currentTab:state.ui.currentTab}}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),soundcloud=require("soundcloud"),_require=require("react-redux"),connect=_require.connect,playerAPI=require("../utils/playerAPI"),localStore=require("../utils/localStore"),_require2=require("../actions/favoritesActions"),updateAmount=_require2.updateAmount,ControlBar=require("./../components/ControlBar"),Header=require("./../components/Header"),Content=require("./../components/Content"),App=function(_React$Component){function App(){return _classCallCheck(this,App),_possibleConstructorReturn(this,(App.__proto__||Object.getPrototypeOf(App)).apply(this,arguments))}return _inherits(App,_React$Component),_createClass(App,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentDidMount",value:function(){var dispatch=this.props.dispatch;playerAPI.canvasSpectrum._initCanvas(document.querySelector("#canvas")),soundcloud.initialize({client_id:"94b8a7e5efe62b01c8ca3f03cc3ccca8"}),dispatch(updateAmount(localStore.length))}},{key:"render",value:function(){return React.createElement("div",{className:"container"},React.createElement("div",{id:"player"},React.createElement(Header,null),React.createElement(Content,null),React.createElement(ControlBar,null)))}}]),App}(React.Component);App.propTypes={favorites:React.PropTypes.object.isRequired,currentTab:React.PropTypes.string.isRequired},module.exports=connect(mapStateToProps)(App)},{"../actions/favoritesActions":2,"../utils/localStore":57,"../utils/playerAPI":58,"./../components/Content":6,"./../components/ControlBar":7,"./../components/Header":15,react:"react","react-redux":"react-redux",soundcloud:"soundcloud"}],36:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function mapStateToProps(state){return{src:state.data.cover||"http://placehold.it/300x300/fff/3cd2ce/?text=REACT.JS+PLAYER"}}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),_require=require("react-redux"),connect=_require.connect,Cover=require("../components/Cover"),Artwork=function(_React$Component){function Artwork(props){_classCallCheck(this,Artwork);var _this=_possibleConstructorReturn(this,(Artwork.__proto__||Object.getPrototypeOf(Artwork)).call(this,props));return _this.state={loading:!1},_this.coverOnLoad=_this.coverOnLoad.bind(_this),_this}return _inherits(Artwork,_React$Component),_createClass(Artwork,[{key:"componentWillReceiveProps",value:function(nextProps){this.setState({loading:this.props.src!==nextProps.src})}},{key:"coverOnLoad",value:function(){this.setState({loading:!1})}},{key:"render",value:function(){return React.createElement(Cover,{src:this.props.src,loading:this.state.loading,coverOnLoad:this.coverOnLoad})}}]),Artwork}(React.Component);Artwork.propTypes={src:React.PropTypes.string.isRequired},module.exports=connect(mapStateToProps)(Artwork)},{"../components/Cover":9,react:"react","react-redux":"react-redux"}],37:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function mapStateToProps(state){return{playlist:state.playlist,data:state.data,currentTrackIndex:state.player.currentTrackIndex,currentTab:state.ui.currentTab,favorites:state.favorites}}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),_require=require("react-redux"),connect=_require.connect,PlaylistComponent=require("../components/Playlist"),_require2=require("../actions/playerActions"),playTrack=_require2.playTrack,_require3=require("../actions/dataActions"),updateData=_require3.updateData,_require4=require("../actions/uiActions"),changeCurrentTab=_require4.changeCurrentTab,_require5=require("../actions/playlistActions"),concatPartialTracks=_require5.concatPartialTracks,fetchPlaylistStart=_require5.fetchPlaylistStart,fetchPlaylistError=_require5.fetchPlaylistError,_require6=require("../actions/favoritesActions"),fetchFavoritesStart=_require6.fetchFavoritesStart,updateFavorites=_require6.updateFavorites,fetchFavoritesError=_require6.fetchFavoritesError,updateAmount=_require6.updateAmount,removeTrack=_require6.removeTrack,playerAPI=require("../utils/playerAPI"),localStore=require("../utils/localStore"),Playlist=function(_React$Component){function Playlist(props){_classCallCheck(this,Playlist);var _this=_possibleConstructorReturn(this,(Playlist.__proto__||Object.getPrototypeOf(Playlist)).call(this,props));return _this.trackOnClick=_this.trackOnClick.bind(_this),_this.tabOnChanged=_this.tabOnChanged.bind(_this),_this.starOnClick=_this.starOnClick.bind(_this),_this.trackListOnScrolled=_this.trackListOnScrolled.bind(_this),_this}return _inherits(Playlist,_React$Component),_createClass(Playlist,[{key:"trackOnClick",value:function(e,trackData){if(!e.target.dataset.val){var _props=this.props,dispatch=_props.dispatch,playlist=_props.playlist,currentTab=_props.currentTab;dispatch(playTrack(trackData.index)),dispatch(updateData(Object.assign(trackData,{currentPlaylist:currentTab,searchText:playlist.searchText}))),playerAPI.play(trackData.streamUrl)}}},{key:"starOnClick",value:function(e,trackData){var _props2=this.props,dispatch=_props2.dispatch,currentTab=_props2.currentTab;"favorites"===currentTab?(localStore.remove(trackData),dispatch(removeTrack(trackData.id)),dispatch(updateAmount(localStore.length))):(localStore.add(trackData),dispatch(updateAmount(localStore.length)))}},{key:"trackListOnScrolled",value:function(e,cb){var _props3=this.props,dispatch=_props3.dispatch,_props3$playlist=_props3.playlist,searchText=_props3$playlist.searchText,done=_props3$playlist.done;!done&&dispatch(function(dispatch){dispatch(fetchPlaylistStart()),playerAPI.findPartialTracks(searchText).then(function(tracks){dispatch(concatPartialTracks(tracks)),cb(e)})["catch"](function(error){dispatch(fetchPlaylistError(error))})})}},{key:"tabOnChanged",value:function(tabName){var _props4=this.props,dispatch=_props4.dispatch,favorites=_props4.favorites;"favorites"===tabName&&favorites.amount>favorites.tracks.length&&(dispatch(fetchFavoritesStart()),playerAPI.findTracksByIds(localStore.store[localStore._value]).then(function(tracks){dispatch(updateFavorites(tracks))})["catch"](function(error){return fetchFavoritesError(error)})),dispatch(changeCurrentTab(tabName))}},{key:"render",value:function(){var _props5=this.props,playlist=_props5.playlist,currentTab=_props5.currentTab,favorites=_props5.favorites,fetching="playlist"===currentTab?playlist.fetching:favorites.fetching;return React.createElement(PlaylistComponent,_extends({},this.props,{fetching:fetching,tabOnChanged:this.tabOnChanged,starOnClick:this.starOnClick,trackOnClick:this.trackOnClick,trackListOnScrolled:this.trackListOnScrolled}))}}]),Playlist}(React.Component);Playlist.propTypes={playlist:React.PropTypes.object.isRequired,data:React.PropTypes.object.isRequired,currentTrackIndex:React.PropTypes.number,currentTab:React.PropTypes.string.isRequired,favorites:React.PropTypes.object.isRequired},module.exports=connect(mapStateToProps)(Playlist)},{"../actions/dataActions":1,"../actions/favoritesActions":2,"../actions/playerActions":3,"../actions/playlistActions":4,"../actions/uiActions":5,"../components/Playlist":16,"../utils/localStore":57,"../utils/playerAPI":58,react:"react","react-redux":"react-redux"}],38:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function mapStateToProps(state){return{repeat:state.player.repeat,currentTab:state.ui.currentTab}}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),_require=require("react-redux"),connect=_require.connect,playerAPI=require("../utils/playerAPI"),VolumeBar=require("../components/VolumeBar"),EqualizerBar=require("../components/Equalizer"),_require2=require("../actions/playlistActions"),shufflePlaylist=_require2.shuffleTracks,_require3=require("../actions/favoritesActions"),shuffleFavorites=_require3.shuffleTracks,ProcessingBar=function(_React$Component){function ProcessingBar(props){_classCallCheck(this,ProcessingBar);var _this=_possibleConstructorReturn(this,(ProcessingBar.__proto__||Object.getPrototypeOf(ProcessingBar)).call(this,props));return _this.setVolume=_this.setVolume.bind(_this),_this.toggleRepeat=_this.toggleRepeat.bind(_this),_this.shuffleCurrentPlaylist=_this.shuffleCurrentPlaylist.bind(_this),_this.filterFrequencies=_this.filterFrequencies.bind(_this),_this}return _inherits(ProcessingBar,_React$Component),_createClass(ProcessingBar,[{key:"setVolume",value:function(volume){playerAPI.setVolume(volume)}},{key:"filterFrequencies",value:function(filter){playerAPI.filterValues(filter)}},{key:"toggleRepeat",value:function(){playerAPI.toggleRepeat()}},{key:"shuffleCurrentPlaylist",value:function(){var _props=this.props,dispatch=_props.dispatch,currentTab=_props.currentTab;dispatch("playlist"===currentTab?shufflePlaylist():shuffleFavorites())}},{key:"render",value:function(){var repeat=this.props.repeat;return React.createElement("div",{className:"processing-bar"},React.createElement("ul",null,React.createElement(VolumeBar,{setVolume:this.setVolume}),React.createElement(EqualizerBar,{filterFrequencies:this.filterFrequencies}),React.createElement("li",{id:"processing-bar__shuffle",onClick:this.shuffleCurrentPlaylist,className:"icon"}),React.createElement("li",{id:"repeat",style:{color:repeat?"#3ccecf":""},onClick:this.toggleRepeat,className:"icon"})))}}]),ProcessingBar}(React.Component);ProcessingBar.propTypes={repeat:React.PropTypes.bool.isRequired,currentTab:React.PropTypes.string.isRequired},module.exports=connect(mapStateToProps)(ProcessingBar)},{"../actions/favoritesActions":2,"../actions/playlistActions":4,"../components/Equalizer":13,"../components/VolumeBar":22,"../utils/playerAPI":58,react:"react","react-redux":"react-redux"}],39:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function mapStateToProps(state){return{searchText:state.playlist.searchText}}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),_require=require("react-redux"),connect=_require.connect,playerAPI=require("../utils/playerAPI"),_require2=require("../actions/playlistActions"),fetchPlaylistStart=_require2.fetchPlaylistStart,updatePlaylist=_require2.updatePlaylist,fetchPlaylistError=_require2.fetchPlaylistError,changeSearchText=_require2.changeSearchText,lastTimeValue=0,timer=null,SearchBar=function(_React$Component){function SearchBar(props){_classCallCheck(this,SearchBar);var _this=_possibleConstructorReturn(this,(SearchBar.__proto__||Object.getPrototypeOf(SearchBar)).call(this,props));return _this.state={value:"",visible:!1},_this.inputOnChange.bind(_this),_this.clearInputField.bind(_this),_this}return _inherits(SearchBar,_React$Component),_createClass(SearchBar,[{key:"componentDidMount",value:function(){this.searchField.focus(),this.searchField.value="Hans Zimmer",this.inputOnChange({target:this.searchField})}},{key:"componentWillReceiveProps",value:function(nextProps){nextProps.searchText!==this.props.searchText&&(this.searchField.value=nextProps.searchText,this.inputOnChange({target:this.searchField}))}},{key:"inputOnChange",value:function(e){var val=e.target.value,newTimeValue=new Date,delay=this.props.searchDelay,dispatch=this.props.dispatch;newTimeValue-lastTimeValue<delay&&clearTimeout(timer),timer=setTimeout(function(){dispatch(changeSearchText(val)),dispatch(function(dispatch){dispatch(fetchPlaylistStart()),playerAPI.findTracks(val).then(function(tracks){dispatch(updatePlaylist(tracks))})["catch"](function(error){dispatch(fetchPlaylistError(error))})})},delay),this.setState({value:val,visible:!!val.length}),lastTimeValue=newTimeValue}},{key:"clearInputField",value:function(){clearTimeout(timer),this.setState({value:"",visible:!1}),this.searchField.focus()}},{key:"render",value:function(){var _this2=this,_state=this.state,visible=_state.visible,value=_state.value;return React.createElement("div",{className:"visual-bar-left-header"},React.createElement("div",{className:"search-bar"},React.createElement("div",{className:"icon search-bar__magnifier-sign"}),React.createElement("input",{onChange:this.inputOnChange.bind(this),placeholder:"Search",value:value,className:"search-bar__input",type:"text",ref:function(sf){return _this2.searchField=sf}}),React.createElement("div",{onClick:this.clearInputField.bind(this),className:"icon search-bar__x-sign "+(visible?"":"hide")})))}}]),SearchBar}(React.Component);SearchBar.propTypes={searchText:React.PropTypes.string.isRequired,searchDelay:React.PropTypes.number.isRequired},module.exports=connect(mapStateToProps)(SearchBar)},{"../actions/playlistActions":4,"../utils/playerAPI":58,react:"react","react-redux":"react-redux"}],40:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function mapStateToProps(state){return{currentTime:state.player.currentTime||0,duration:state.data.duration||0}}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),_require=require("react-redux"),connect=_require.connect,DurationBar=require("../components/DurationBar"),CurrentTimeBar=require("../components/CurrentTimeBar"),ProgressBar=require("../components/ProgressBar"),playerAPI=require("../utils/playerAPI"),TimeBar=function(_React$Component){function TimeBar(props){_classCallCheck(this,TimeBar);var _this=_possibleConstructorReturn(this,(TimeBar.__proto__||Object.getPrototypeOf(TimeBar)).call(this,props));return _this.updateTime=_this.updateTime.bind(_this),_this}return _inherits(TimeBar,_React$Component),_createClass(TimeBar,[{key:"updateTime",value:function(time){var duration=this.props.duration;playerAPI.currentTime=parseInt(time*duration),playerAPI.startOver()}},{key:"render",value:function(){var _props=this.props,currentTime=_props.currentTime,duration=_props.duration,ratio=currentTime/duration;return React.createElement("div",{className:"time-bar"},React.createElement("ul",null,React.createElement(CurrentTimeBar,{currentTime:currentTime}),React.createElement(ProgressBar,{updateTime:this.updateTime,duration:duration,progress:ratio}),React.createElement(DurationBar,{duration:duration})))}}]),TimeBar}(React.Component);TimeBar.propTypes={currentTime:React.PropTypes.number.isRequired,duration:React.PropTypes.number.isRequired},module.exports=connect(mapStateToProps)(TimeBar)},{"../components/CurrentTimeBar":11,"../components/DurationBar":12,"../components/ProgressBar":18,"../utils/playerAPI":58,react:"react","react-redux":"react-redux"}],41:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function mapStateToProps(state){var _state$data=state.data,username=_state$data.username,title=_state$data.title;return{username:username,title:title}}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),
Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),_require=require("react-redux"),connect=_require.connect,ReactCSSTransitionGroup=require("react-addons-css-transition-group"),TrackData=function(_React$Component){function TrackData(props){_classCallCheck(this,TrackData);var _this=_possibleConstructorReturn(this,(TrackData.__proto__||Object.getPrototypeOf(TrackData)).call(this,props));return _this.titleOnMouseOver=_this.titleOnMouseOver.bind(_this),_this.titleOnMouseOut=_this.titleOnMouseOut.bind(_this),_this}return _inherits(TrackData,_React$Component),_createClass(TrackData,[{key:"titleOnMouseOver",value:function(e){var title=e.target;title.offsetWidth<title.scrollWidth&&(title.style.textIndent=-(title.scrollWidth-title.offsetWidth)+"px")}},{key:"titleOnMouseOut",value:function(e){var title=e.target;title.style.transition="text-indent .7s",title.style.textIndent="0px"}},{key:"render",value:function(){var _this2=this,_props=this.props,title=_props.title,username=_props.username;return React.createElement(ReactCSSTransitionGroup,{transitionName:"fade",transitionEnterTimeout:500,transitionLeave:!1},React.createElement("div",{key:title.length,className:"track-data"},React.createElement("div",{id:"album",onMouseOver:function(e){return _this2.titleOnMouseOver(e)},onMouseOut:function(e){return _this2.titleOnMouseOut(e)},className:"track-data__title",ref:function(t){return _this2.title=t}},title),React.createElement("div",{id:"artist",className:"track-data__username"},username)))}}]),TrackData}(React.Component);TrackData.propTypes={username:React.PropTypes.string,title:React.PropTypes.string},module.exports=connect(mapStateToProps)(TrackData)},{react:"react","react-addons-css-transition-group":"react-addons-css-transition-group","react-redux":"react-redux"}],42:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),React=require("react"),annyang=require("annyang"),commands=require("../utils/voiceCommands"),VoiceBar=function(_React$Component){function VoiceBar(props){_classCallCheck(this,VoiceBar);var _this=_possibleConstructorReturn(this,(VoiceBar.__proto__||Object.getPrototypeOf(VoiceBar)).call(this,props));return _this.state={isActive:!1},annyang&&annyang.addCommands(commands),_this.voiceBarOnClick=_this.voiceBarOnClick.bind(_this),_this}return _inherits(VoiceBar,_React$Component),_createClass(VoiceBar,[{key:"componentWillUpdate",value:function(nextProps,nextState){nextState.isActive?annyang.start():annyang.abort()}},{key:"voiceBarOnClick",value:function(){this.setState({isActive:!this.state.isActive})}},{key:"render",value:function(){return React.createElement("div",{className:"voice-bar"},React.createElement("div",{className:"icon voice-bar__controller "+(this.state.isActive?"activated":""),onClick:this.voiceBarOnClick}))}}]),VoiceBar}(React.Component);module.exports=VoiceBar},{"../utils/voiceCommands":60,annyang:61,react:"react"}],43:[function(require,module,exports){"use strict";var React=require("react"),ReactDOM=require("react-dom"),_require=require("react-redux"),Provider=_require.Provider,App=require("./containers/App"),store=require("./reducers/store");ReactDOM.render(React.createElement(Provider,{store:store},React.createElement(App,null)),document.getElementById("root"))},{"./containers/App":35,"./reducers/store":51,react:"react","react-dom":"react-dom","react-redux":"react-redux"}],44:[function(require,module,exports){"use strict";function dataReducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState.data,action=arguments[1];switch(action.type){case constants.UPDATE_DATA:return Object.assign({},state,action.data);default:return state}}var initialState=require("./initialState"),constants=require("../constants/dataConstants");module.exports=dataReducer},{"../constants/dataConstants":29,"./initialState":47}],45:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var formatCover=require("../utils/format").formatCover,Track=function Track(_ref){var title=_ref.title,index=_ref.index,cover=_ref.artwork_url,streamUrl=_ref.stream_url,id=_ref.id,duration=_ref.duration,uri=_ref.uri,username=_ref.user.username;_classCallCheck(this,Track),Object.assign(this,{title:title,index:index,cover:formatCover(cover),id:id,duration:duration,uri:uri,streamUrl:streamUrl,username:username})},entity={track:Track};module.exports={createEntity:function(type,props){return new entity[type](props)}}},{"../utils/format":56}],46:[function(require,module,exports){"use strict";function favoritesReducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState.favorites,action=arguments[1];switch(action.type){case constants.FETCH_FAVORITES_START:return Object.assign({},state,{fetched:!1,fetching:!0});case constants.UPDATE_FAVORITES:return Object.assign({},state,{fetching:!1,fetched:!0,tracks:action.tracks.filter(function(track){return track.artwork_url&&track.streamable}).map(function(track,index){return factory.createEntity("track",Object.assign(track,{index:index}))})});case constants.FETCH_FAVORITES_ERROR:return Object.assign({},state,{fetching:!1,error:action.error});case constants.REMOVE_TRACK:return Object.assign({},state,{tracks:state.tracks.filter(function(track){return track.id!==action.id})});case constants.UPDATE_AMOUNT:return Object.assign({},state,{amount:action.amount});case constants.SHUFFLE_TRACKS:return Object.assign({},state,{tracks:normalizeIndices(shuffle(state.tracks))});default:return state}}var initialState=require("./initialState"),constants=require("../constants/favoritesConstants"),factory=require("./factory"),shuffle=require("../utils/format").shuffle,normalizeIndices=require("../utils/format").normalizeIndices;module.exports=favoritesReducer},{"../constants/favoritesConstants":30,"../utils/format":56,"./factory":45,"./initialState":47}],47:[function(require,module,exports){"use strict";var initialState={playlist:{tracks:[],searchText:"",error:null,fetching:!1,fetched:!1,done:!1},favorites:{tracks:[],amount:0,error:null,fetching:!1,fetched:!1},player:{currentTrackIndex:null,currentTime:0,isPlaying:!1,repeat:!1},data:{currentPlaylist:"",duration:"",index:"",cover:"",username:"",title:"",id:""},ui:{currentTab:"playlist"}};module.exports=initialState},{}],48:[function(require,module,exports){"use strict";function playerReducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState.player,action=arguments[1];switch(action.type){case constants.CHANGE_PLAYING_TRACK:return Object.assign({},state,{currentTrackIndex:action.trackIndex});case constants.TOGGLE_TRACK:return Object.assign({},state,{isPlaying:action.isPlaying});case constants.CHANGE_CURRENT_TIME:return Object.assign({},state,{currentTime:action.time});case constants.TOGGLE_REPEAT_TRACK:return Object.assign({},state,{repeat:!state.repeat});default:return state}}var initialState=require("./initialState"),constants=require("../constants/playerConstants");module.exports=playerReducer},{"../constants/playerConstants":31,"./initialState":47}],49:[function(require,module,exports){"use strict";function playerReducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState.playlist,action=arguments[1],_ret=function(){switch(action.type){case constants.FETCH_PLAYLIST_START:return{v:Object.assign({},state,{fetched:!1,fetching:!0})};case constants.UPDATE_PLAYLIST:return{v:Object.assign({},state,{fetching:!1,fetched:!0,tracks:action.tracks.filter(function(track){return track.artwork_url&&track.streamable}).map(function(track,index){return factory.createEntity("track",Object.assign(track,{index:index}))})})};case constants.FETCH_PLAYLIST_ERROR:return{v:Object.assign({},state,{fetching:!1,error:action.error})};case constants.UPDATE_SEARCH_TEXT:return{v:Object.assign({},state,{searchText:action.text,done:!1})};case constants.CONCAT_PARTIAL_TRACKS:var lastIndex=state.tracks[state.tracks.length-1].index+1,newTracks=action.tracks.collection.filter(function(track){return track.artwork_url&&track.streamable}).map(function(track,index){return factory.createEntity("track",Object.assign(track,{index:index+lastIndex}))});return{v:Object.assign({},state,{fetching:!1,fetched:!0,tracks:state.tracks.concat(newTracks),done:!action.tracks.next_href})};case constants.SHUFFLE_TRACKS:return{v:Object.assign({},state,{tracks:normalizeIndices(shuffle(state.tracks))})};default:return{v:state}}}();if("object"===("undefined"==typeof _ret?"undefined":_typeof(_ret)))return _ret.v}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},initialState=require("./initialState"),constants=require("../constants/playlistConstants"),factory=require("./factory"),shuffle=require("../utils/format").shuffle,normalizeIndices=require("../utils/format").normalizeIndices;module.exports=playerReducer},{"../constants/playlistConstants":32,"../utils/format":56,"./factory":45,"./initialState":47}],50:[function(require,module,exports){"use strict";function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments[1],playlist=playlistReducer(state.playlist,action),player=playerReducer(state.player,action),data=dataReducer(state.data,action),favorites=favoritesReducer(state.favorites,action),ui=uiReducer(state.ui,action);return{playlist:playlist,player:player,data:data,favorites:favorites,ui:ui}}var playlistReducer=require("./playlistReducer"),playerReducer=require("./playerReducer"),dataReducer=require("./dataReducer"),uiReducer=require("./uiReducer"),favoritesReducer=require("./favoritesReducer"),initialState=require("./initialState");module.exports=reducer},{"./dataReducer":44,"./favoritesReducer":46,"./initialState":47,"./playerReducer":48,"./playlistReducer":49,"./uiReducer":52}],51:[function(require,module,exports){"use strict";var rootReducer=require("./rootReducer"),_require=require("redux"),createStore=_require.createStore,applyMiddleware=_require.applyMiddleware,thunk=require("redux-thunk")["default"],middlewares=[thunk],middleWare=applyMiddleware.apply(void 0,middlewares),store=createStore(rootReducer,middleWare);module.exports=store},{"./rootReducer":50,redux:"redux","redux-thunk":62}],52:[function(require,module,exports){"use strict";function uiReducer(){var store=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState.ui,action=arguments[1];switch(action.type){case constants.CHANGE_CURRENT_TAB:return Object.assign({},store,{currentTab:action.tab});default:return store}}var initialState=require("./initialState"),constants=require("../constants/uiConstants");module.exports=uiReducer},{"../constants/uiConstants":33,"./initialState":47}],53:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),CanvasSpectrum=function(){function CanvasSpectrum(){_classCallCheck(this,CanvasSpectrum)}return _createClass(CanvasSpectrum,[{key:"_initCanvas",value:function(canvas){if(!canvas)throw new TypeError("Failed to execute '_initCanvas()': at least 1 argument required");this.canvas=canvas,this._context=canvas.getContext("2d"),this._context.lineWidth=4,this._gradStyle=CanvasSpectrum.createLinearGradient(this._context)}},{key:"draw",value:function(arr){this.clear(),this._context.strokeStyle=this._gradStyle(),this._context.beginPath();for(var i=0;i<arr.length;i++){var y=arr[i]/128*this.canvas.height/2;0===i?this._context.moveTo(0,y/2):this._context.lineTo(i+2,y/2)}this._context.stroke(),this._context.closePath()}},{key:"clear",value:function(){this._context.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"update",value:function(arr){this.draw(arr)}}],[{key:"createLinearGradient",value:function(context){var grad=context.createLinearGradient(0,0,context.canvas.width,0),prevColorPattern="rgba(60, 210, 206, .3)";return function(){var color1=parseInt(255*Math.random()),color2=parseInt(255*Math.random()),color3=parseInt(255*Math.random()),nextColorPattern="rgb("+color1+", "+color2+", "+color3+")";return grad.addColorStop(1,prevColorPattern),grad.addColorStop(0,nextColorPattern),grad}}}]),CanvasSpectrum}();module.exports=CanvasSpectrum},{}],54:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();window.AudioContext=window.AudioContext||window.webkitAudioContext;var Analyzer=function(){function Analyzer(){_classCallCheck(this,Analyzer),this._ctx=new AudioContext,this._node=this._ctx.createScriptProcessor(2048,1,1),this._mid=this._ctx.createBiquadFilter(),this._mid.type="peaking",this._mid.frequency.value=350,this._mid.gain.value=0,this._bass=this._ctx.createBiquadFilter(),this._bass.type="lowshelf",this._bass.frequency.value=200,this._bass.gain.value=0,this._treble=this._ctx.createBiquadFilter(),this._treble.type="highshelf",this._treble.frequency.value=3e3,this._treble.gain.value=0,this._analyzer=this._ctx.createAnalyser(),this._analyzer.smoothingTimeConstant=.5,this._analyzer.fftSize=1024,this._bands=new Uint8Array(this._analyzer.frequencyBinCount),this._cfg={MAX_GAIN:3,MIN_GAIN:-3,MAX_TREBLE_VALUE:6e3,MAX_BASS_VALUE:400,MAX_MID_VALUE:700},window.SC.initialize({client_id:"94b8a7e5efe62b01c8ca3f03cc3ccca8"})}return _createClass(Analyzer,[{key:"filterValues",value:function(filter){var title="BASS"===filter.title?"_bass":"MID"===filter.title?"_mid":"_treble";this[title][filter.type].value="frequency"===filter.type?filter.ratio*this._cfg["MAX_"+filter.title+"_VALUE"]:-1*(3+3*(filter.ratio*-3)/1.5)}},{key:"_initSource",value:function(input,updateHandler){var _this=this;this.audio=input,this._source||(this._source=this._ctx.createMediaElementSource(this.audio)),this._source.connect(this._bass),this._bass.connect(this._mid),this._mid.connect(this._treble),this._treble.connect(this._analyzer),this._analyzer.connect(this._node),this._node.connect(this._ctx.destination),this._analyzer.connect(this._ctx.destination),this._node.onaudioprocess=function(){_this.audio.paused||(_this._analyzer.getByteFrequencyData(_this._bands),updateHandler(_this._bands))}}}]),Analyzer}();module.exports=Analyzer},{}],55:[function(require,module,exports){"use strict";exports.getCoords=function(elem){var box=elem.getBoundingClientRect(),body=document.body,docElem=document.documentElement,scrollTop=window.pageYOffset||docElem.scrollTop||body.scrollTop,scrollLeft=window.pageXOffset||docElem.scrollLeft||body.scrollLeft,clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0,top=box.top+scrollTop-clientTop,left=box.left+scrollLeft-clientLeft;return{top:Math.round(top),left:Math.round(left)}}},{}],56:[function(require,module,exports){"use strict";var url=require("url");exports.formatMStoS=function(ms){var num=ms/1e3,result=void 0;if(num<60)result=num<10?"0:0"+parseInt(num):"0:"+parseInt(num);else if(num>60){var div=parseInt(num/60),dif=parseInt(num)-60*div,mins=div<10?"0"+div:num,secs=dif<10?"0"+dif:dif;result=mins+":"+secs}return result},exports.formatCover=function(coverUri){var size=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"t300x300",format=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".png",_url$parse=url.parse(coverUri),host=_url$parse.host,protocol=_url$parse.protocol,pathname=_url$parse.pathname,search=_url$parse.search;return protocol+"//"+host+pathname.split(".")[0].split("-").slice(0,-1).join("-")+"-"+size+format+(search||"")},exports.formatTitle=function(title){var lim=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return title.length>=lim?title.substr(0,lim-3)+"...":title},exports.shuffle=function(arr){var a=arr.slice(),j=void 0,x=void 0,i=void 0;for(i=a.length;i;i--)j=Math.floor(Math.random()*i),x=a[i-1],a[i-1]=a[j],a[j]=x;return a},exports.normalizeIndices=function(arr){var i=void 0;for(i=0;i<arr.length;i++)arr[i].index=i;return arr}},{url:"url"}],57:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_require=require("../reducers/store"),_require2=(_require.getState,_require.dispatch,require("../actions/playlistActions")),LocalStore=(_require2.updateFavoriteTracks,require("./playerAPI"),function(){function LocalStore(){_classCallCheck(this,LocalStore),this.store=window.localStorage,this._value="rrsap16",this.store[this._value]||(this.store[this._value]="")}return _createClass(LocalStore,[{key:"add",value:function(track){return this.store[this._value].indexOf(track.id)>=0?void this.remove(track):this.store[this._value].length?void(this.store[this._value]+=","+track.id):void(this.store[this._value]+=track.id)}},{key:"includes",value:function(id){return this.store[this._value].split(",").includes(id.toString())}},{key:"remove",value:function(track){this.store[this._value].indexOf(track.id)<0||(this.store[this._value]=this.store[this._value].split(",").filter(function(trackId){return trackId!==track.id.toString()}).join(","))}},{key:"length",get:function(){var arr=this.store[this._value].split(",");return""===arr[0]?0:arr.length}}]),LocalStore}()),store=new LocalStore;module.exports=store},{"../actions/playlistActions":4,"../reducers/store":51,"./playerAPI":58}],58:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),soundcloud=require("soundcloud"),url=require("url"),Analyzer=require("./WebAudioAnalyzer"),CanvasSpectrum=require("./CanvasSpectrum"),_require=require("../reducers/store"),getState=_require.getState,dispatch=_require.dispatch,_require2=require("../actions/playerActions"),changeCurrentTime=_require2.changeCurrentTime,changeTrack=_require2.changeTrack,toggleTrack=_require2.toggleTrack,playTrack=_require2.playTrack,toggleRepeatTrack=_require2.toggleRepeatTrack,_require3=require("../actions/dataActions"),updateData=_require3.updateData,_require4=require("../utils/trackUtils"),getCurrentTrackObject=_require4.getCurrentTrackObject,getFirstTrack=_require4.getFirstTrack,_require5=require("../constants/playerConstants"),NEXT_TRACK=_require5.NEXT_TRACK,PREV_TRACK=_require5.PREV_TRACK,PlayerAPI=function(){function PlayerAPI(){var _this=this,clientId=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"94b8a7e5efe62b01c8ca3f03cc3ccca8";_classCallCheck(this,PlayerAPI),this.audio=new Audio,this.audio.crossOrigin="anonymous",this.clientId=clientId,window.SC.initialize({client_id:this.clientId}),this.audioAnalyzer=new Analyzer,this.canvasSpectrum=new CanvasSpectrum(document.getElementById("canvas")),this.nextHref=null,this.repeat=!1,this.audio.addEventListener("ended",function(){return _this.audioOnFinish()}),this.audio.addEventListener("timeupdate",function(){return _this.audioOnTimeUpdate()}),this.audio.addEventListener("canplaythrough",function(){return _this.audioOnCanPlayThrough()})}return _createClass(PlayerAPI,[{key:"findTracks",value:function(searchString){var _this2=this;return this.nextHref=null,soundcloud.get("/tracks",PlayerAPI.createQueryObject(searchString,!0)).then(function(result){return _this2.nextHref=url.parse(result.next_href,!0).query,result.collection})}},{key:"filterValues",value:function(filter){this.audioAnalyzer.filterValues(filter)}},{key:"toggleRepeat",value:function(){dispatch(toggleRepeatTrack()),this.repeat=!this.repeat}},{key:"findPartialTracks",value:function(searchString){var _this3=this;if(null!==this.nextHref)return soundcloud.get("/tracks",this.nextHref).then(function(result){return _this3.nextHref=result.next_href?url.parse(result.next_href,!0).query:result.next_href,result})}},{key:"findTrackById",value:function(id){return soundcloud.get("/tracks/"+id)}},{key:"findTracksByIds",value:function(ids){return soundcloud.get("/tracks?ids="+ids)}},{key:"loadTrack",value:function(src){this.audio.src=src+"?client_id="+this.clientId}},{key:"playNext",value:function(){this.audio.src&&(dispatch(changeTrack(NEXT_TRACK)),this.play(getCurrentTrackObject().streamUrl),dispatch(updateData(getCurrentTrackObject())))}},{key:"playPrev",value:function(){this.audio.src&&(dispatch(changeTrack(PREV_TRACK)),this.play(getCurrentTrackObject().streamUrl),dispatch(updateData(getCurrentTrackObject())))}},{key:"play",value:function(src){this.audio.src!==src&&(this.loadTrack(src),dispatch(toggleTrack(!0)),this.audio.play())}},{key:"pause",value:function(){this.audio.pause(),dispatch(toggleTrack(!1))}},{key:"startOver",value:function(){this.audio.play(),dispatch(toggleTrack(!0))}},{key:"setVolume",value:function(val){this.audio.volume=val}},{key:"playFirstTrack",value:function(){var track=getFirstTrack(),_getState=getState(),ui=_getState.ui,playlist=_getState.playlist;dispatch(playTrack(track.index)),dispatch(updateData(Object.assign(track,{currentPlaylist:ui.currentTab,searchText:playlist.searchText}))),this.play(track.streamUrl)}},{key:"toggle",value:function(){return this.audio.currentSrc?void(this.audio.paused?this.startOver():this.pause()):void this.playFirstTrack()}},{key:"audioOnCanPlayThrough",value:function(){this.audioAnalyzer._initSource(this.audio,this.canvasSpectrum.update.bind(this.canvasSpectrum))}},{key:"audioOnTimeUpdate",value:function(){var time=this.currentTime;dispatch(changeCurrentTime(time))}},{key:"audioOnFinish",value:function(){var _this4=this;return this.repeat?void setTimeout(function(){dispatch(changeCurrentTime(0)),_this4.currentTime=0,_this4.startOver()},500):void this.playNext()}},{key:"currentTime",get:function(){return 1e3*this.audio.currentTime},set:function(time){this.audio.currentTime=time/1e3}}],[{key:"createQueryObject",value:function(searchString){var partial=arguments.length>1&&void 0!==arguments[1]&&arguments[1],query={q:searchString,limit:200};return partial?Object.assign(query,{linked_partitioning:1}):query}}]),PlayerAPI}(),playerAPI=new PlayerAPI;module.exports=playerAPI},{"../actions/dataActions":1,"../actions/playerActions":3,"../constants/playerConstants":31,"../reducers/store":51,"../utils/trackUtils":59,"./CanvasSpectrum":53,"./WebAudioAnalyzer":54,soundcloud:"soundcloud",url:"url"}],59:[function(require,module,exports){"use strict";var _require=require("../reducers/store"),getState=_require.getState;exports.getCurrentTrackObject=function(){var state=getState(),index=state.player.currentTrackIndex,currentPlaylist=state.data.currentPlaylist||state.ui.currentTab;return state[currentPlaylist].tracks[index]},exports.getFirstTrack=function(){var state=getState(),currentPlaylist=state.ui.currentTab||state.data.currentPlaylist;return state[currentPlaylist].tracks[0]}},{"../reducers/store":51}],60:[function(require,module,exports){"use strict";var playerAPI=require("./playerAPI"),_require=require("../reducers/store"),dispatch=_require.dispatch,getState=_require.getState,favoritesActions=require("../actions/favoritesActions"),playlistActions=require("../actions/playlistActions"),_require2=require("../actions/uiActions"),changeCurrentTab=_require2.changeCurrentTab,localStore=require("./localStore"),voiceCommands={"switch":function(){playerAPI.toggle()},"play next track":function(){playerAPI.playNext()},"play previous track":function(){playerAPI.playPrev()},"repeat track":function(){playerAPI.toggleRepeat()},"search for *track":function(track){dispatch(playlistActions.changeSearchText(track))},"play playlist":function(){dispatch(changeCurrentTab("playlist")),playerAPI.playFirstTrack()},"play favorites":function(){var _getState=getState(),favorites=_getState.favorites;favorites.amount>favorites.tracks.length?(dispatch(favoritesActions.fetchFavoritesStart()),dispatch(changeCurrentTab("favorites")),playerAPI.findTracksByIds(localStore.store[localStore._value]).then(function(tracks){dispatch(favoritesActions.updateFavorites(tracks)),playerAPI.playFirstTrack()})["catch"](function(error){return favoritesActions.fetchFavoritesError(error)})):(dispatch(changeCurrentTab("favorites")),playerAPI.playFirstTrack())},shuffle:function(){var currentTab=getState().ui.currentTab;dispatch("playlist"===currentTab?playlistActions.shuffleTracks():favoritesActions.shuffleTracks())}};module.exports=voiceCommands},{"../actions/favoritesActions":2,"../actions/playlistActions":4,"../actions/uiActions":5,"../reducers/store":51,"./localStore":57,"./playerAPI":58}],61:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.annyang=b(a)}):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=b(a):a.annyang=b(a)}("undefined"!=typeof window?window:void 0,function(a,b){var c,d=a.SpeechRecognition||a.webkitSpeechRecognition||a.mozSpeechRecognition||a.msSpeechRecognition||a.oSpeechRecognition;if(!d)return null;var e,f,g=[],h={start:[],error:[],end:[],soundstart:[],result:[],resultMatch:[],resultNoMatch:[],errorNetwork:[],errorPermissionBlocked:[],errorPermissionDenied:[]},i=0,j=0,k=!1,l="font-weight: bold; color: #00f;",m=!1,n=!1,o=/\s*\((.*?)\)\s*/g,p=/(\(\?:[^)]+\))\?/g,q=/(\(\?)?:\w+/g,r=/\*\w+/g,s=/[\-{}\[\]+?.,\\\^$|#]/g,t=function(a){return a=a.replace(s,"\\$&").replace(o,"(?:$1)?").replace(q,function(a,b){return b?a:"([^\\s]+)"}).replace(r,"(.*?)").replace(p,"\\s*$1?\\s*"),new RegExp("^"+a+"$","i")},u=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];a.forEach(function(a){a.callback.apply(a.context,c)})},v=function(){return e!==b},w=function(a,b){a.indexOf("%c")!==-1||b?console.log(a,b||l):console.log(a)},x=function(){v()||c.init({},!1)},y=function(a,b,c){g.push({command:a,callback:b,originalPhrase:c}),k&&w("Command successfully loaded: %c"+c,l)},z=function(a){u(h.result,a);for(var b,c=0;c<a.length;c++){b=a[c].trim(),k&&w("Speech recognized: %c"+b,l);for(var d=0,e=g.length;d<e;d++){var f=g[d],i=f.command.exec(b);if(i){var j=i.slice(1);return k&&(w("command matched: %c"+f.originalPhrase,l),j.length&&w("with parameters",j)),f.callback.apply(this,j),void u(h.resultMatch,b,f.originalPhrase,a)}}}u(h.resultNoMatch,a)};return c={init:function(l){var o=!(arguments.length>1&&arguments[1]!==b)||arguments[1];e&&e.abort&&e.abort(),e=new d,e.maxAlternatives=5,e.continuous="http:"===a.location.protocol,e.lang="en-US",e.onstart=function(){n=!0,u(h.start)},e.onsoundstart=function(){u(h.soundstart)},e.onerror=function(a){switch(u(h.error,a),a.error){case"network":u(h.errorNetwork,a);break;case"not-allowed":case"service-not-allowed":f=!1,(new Date).getTime()-i<200?u(h.errorPermissionBlocked,a):u(h.errorPermissionDenied,a)}},e.onend=function(){if(n=!1,u(h.end),f){var a=(new Date).getTime()-i;j+=1,j%10===0&&k&&w("Speech Recognition is repeatedly stopping and starting. See http://is.gd/annyang_restarts for tips."),a<1e3?setTimeout(function(){c.start({paused:m})},1e3-a):c.start({paused:m})}},e.onresult=function(a){if(m)return k&&w("Speech heard, but annyang is paused"),!1;for(var b=a.results[a.resultIndex],c=[],d=0;d<b.length;d++)c[d]=b[d].transcript;z(c)},o&&(g=[]),l.length&&this.addCommands(l)},start:function(a){x(),a=a||{},m=a.paused!==b&&!!a.paused,f=a.autoRestart===b||!!a.autoRestart,a.continuous!==b&&(e.continuous=!!a.continuous),i=(new Date).getTime();try{e.start()}catch(a){k&&w(a.message)}},abort:function(){f=!1,j=0,v()&&e.abort()},pause:function(){m=!0},resume:function(){c.start()},debug:function(){var a=!(arguments.length>0&&arguments[0]!==b)||arguments[0];k=!!a},setLanguage:function(a){x(),e.lang=a},addCommands:function(b){var c;x();for(var d in b)if(b.hasOwnProperty(d))if(c=a[b[d]]||b[d],"function"==typeof c)y(t(d),c,d);else{if(!("object"===("undefined"==typeof c?"undefined":_typeof(c))&&c.regexp instanceof RegExp)){k&&w("Can not register command: %c"+d,l);continue}y(new RegExp(c.regexp.source,"i"),c.callback,d)}},removeCommands:function(a){a===b?g=[]:(a=Array.isArray(a)?a:[a],g=g.filter(function(b){for(var c=0;c<a.length;c++)if(a[c]===b.originalPhrase)return!1;return!0}));
},addCallback:function(c,d,e){var f=a[d]||d;"function"==typeof f&&h[c]!==b&&h[c].push({callback:f,context:e||this})},removeCallback:function(a,c){var d=function(a){return a.callback!==c};for(var e in h)h.hasOwnProperty(e)&&(a!==b&&a!==e||(c===b?h[e]=[]:h[e]=h[e].filter(d)))},isListening:function(){return n&&!m},getSpeechRecognizer:function(){return e},trigger:function(a){return c.isListening()?(Array.isArray(a)||(a=[a]),void z(a)):void(k&&w(n?"Speech heard, but annyang is paused":"Cannot trigger while annyang is aborted"))}}})},{}],62:[function(require,module,exports){"use strict";function createThunkMiddleware(extraArgument){return function(_ref){var dispatch=_ref.dispatch,getState=_ref.getState;return function(next){return function(action){return"function"==typeof action?action(dispatch,getState,extraArgument):next(action)}}}}exports.__esModule=!0;var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware,exports["default"]=thunk},{}]},{},[43]);